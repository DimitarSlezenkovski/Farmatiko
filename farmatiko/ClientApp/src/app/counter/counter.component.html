
<app-nav-menu></app-nav-menu>

<mat-tab-group dynamicHeight mat-stretch-tabs>
  <mat-tab class="tab" label="Здравствени установи">
  <div class="wrapper">
    <div class="header">
    <h2>Здравствени установи 
      <button mat-icon-button color="primary" (click)="refreshMap()" [disabled]="!showMap">
        <mat-icon>refresh</mat-icon>Освежи
      </button>
      <button mat-icon-button color="accent" [disabled]="clicked" (click)="toggleMap(); clicked = true">
        <mat-icon>map</mat-icon>Активирај
      </button>
    </h2>
    <div class="map-wrapper" *ngIf="showMap">
      <div class="map-frame">
        <div id="map" style="height: 400px;" leaflet [leafletOptions]="options"></div>
      </div>
    </div>

  <mat-form-field>
    <input matInput (keyup)="applyFilterFacilities($event.target.value)" placeholder="Пронајди установа">
  </mat-form-field>
    </div>    
    <table class='table table-striped' aria-labelledby="tableLabel" *ngIf="true">
      <thead>
        <tr>
      	  <th>Име</th>
      	  <th>Општина</th>
      	  <th>Тип</th>
      	</tr>
      </thead>
      <tbody>
      	<tr *ngFor="let facility of filteredFacilities" (click)="openFacilityDialog(facility)" class="tableRow">
      	  <td>{{ facility.name }}</td>
      	  <td>{{ facility.municipality }}</td>
      	  <td>{{ facility.type }}</td>
      	</tr>
    </tbody>
  </table>
  </div>
  </mat-tab>
  <mat-tab class="tab" label="Здравствени работници">
  <div class="wrapper">
    <div class="header">
    <h2>Здравствени работници</h2>
    <mat-form-field>
      <input matInput (keyup)="applyFilterWorkers($event.target.value)" placeholder="Пронајди работник">
    </mat-form-field>
    </div>
    <table class='table table-striped' aria-labelledby="tableLabel" *ngIf="true">
      <thead>
        <tr>
      	  <th>Име</th>
      	  <th>Гранка</th>
      	</tr>
      </thead>
      <tbody>
      	<tr *ngFor="let worker of filteredWorkers" (click)="openWorkerDialog(worker)" class="tableRow">
      	  <td>{{ worker.name }}</td>
      	  <td>{{ worker.branch }}</td>
      	</tr>
    </tbody>
  </table>
    </div>
    </mat-tab>
  </mat-tab-group>
